<!-- templates/Booking_Room_Manager/calendar.html -->

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Календарь бронирования</title>
    <style>
        table { border-collapse: collapse; width: 100%; }
        td, th { border: 1px solid #ccc; padding: 8px; text-align: center; }
        .free { background-color: #c8e6c9; cursor: pointer; }
        .busy { background-color: #ffcdd2; }
    </style>
</head>
<body>
    <h2>Календарь переговорных комнат</h2>
    <table>
        {% for slot in time_slots %}
        <tr>
            <td>{{ slot.time }}</td>
            {% for room in slot.rooms %}
                <td>
                    {% if room.booked %}
                        <div class="busy">Занято</div>
                    {% else %}
                    <a href="{% url 'book_room' %}?room={{ room.id }}&time={{ slot.time|time:'H:i' }}">
                        Свободно
                    </a>
                    {% endif %}
                </td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
</body>
</html>